(()=>{"use strict";function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,"symbol"==typeof(o=function(t){if("object"!=typeof t||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key))?o:String(o),r)}var o}function e(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function n(){return n=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n.apply(this,arguments)}function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,o(t,e)}function o(t,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o(t,e)}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u;!function(t){t[t.Init=0]="Init",t[t.Loading=1]="Loading",t[t.Loaded=2]="Loaded",t[t.Rendered=3]="Rendered",t[t.Error=4]="Error"}(u||(u={}));var c,l,d,f,p,h,_,m={},v=[],g=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function y(t,e){for(var n in e)t[n]=e[n];return t}function b(t){var e=t.parentNode;e&&e.removeChild(t)}function w(t,e,n){var r,o,i,s={};for(i in e)"key"==i?r=e[i]:"ref"==i?o=e[i]:s[i]=e[i];if(arguments.length>2&&(s.children=arguments.length>3?c.call(arguments,2):n),"function"==typeof t&&null!=t.defaultProps)for(i in t.defaultProps)void 0===s[i]&&(s[i]=t.defaultProps[i]);return k(t,s,r,o,null)}function k(t,e,n,r,o){var i={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++d:o};return null==o&&null!=l.vnode&&l.vnode(i),i}function x(t){return t.children}function P(t,e){this.props=t,this.context=e}function S(t,e){if(null==e)return t.__?S(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?S(t):null}function N(t){var e,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return N(t)}}function C(t){(!t.__d&&(t.__d=!0)&&p.push(t)&&!E.__r++||h!==l.debounceRendering)&&((h=l.debounceRendering)||setTimeout)(E)}function E(){for(var t;E.__r=p.length;)t=p.sort((function(t,e){return t.__v.__b-e.__v.__b})),p=[],t.some((function(t){var e,n,r,o,i,s;t.__d&&(i=(o=(e=t).__v).__e,(s=e.__P)&&(n=[],(r=y({},o)).__v=o.__v+1,R(s,o,r,e.__n,void 0!==s.ownerSVGElement,null!=o.__h?[i]:null,n,null==i?S(o):i,o.__h),H(n,o),o.__e!=i&&N(o)))}))}function I(t,e,n,r,o,i,s,a,u,c){var l,d,f,p,h,_,g,y=r&&r.__k||v,b=y.length;for(n.__k=[],l=0;l<e.length;l++)if(null!=(p=n.__k[l]=null==(p=e[l])||"boolean"==typeof p?null:"string"==typeof p||"number"==typeof p||"bigint"==typeof p?k(null,p,null,null,p):Array.isArray(p)?k(x,{children:p},null,null,null):p.__b>0?k(p.type,p.props,p.key,p.ref?p.ref:null,p.__v):p)){if(p.__=n,p.__b=n.__b+1,null===(f=y[l])||f&&p.key==f.key&&p.type===f.type)y[l]=void 0;else for(d=0;d<b;d++){if((f=y[d])&&p.key==f.key&&p.type===f.type){y[d]=void 0;break}f=null}R(t,p,f=f||m,o,i,s,a,u,c),h=p.__e,(d=p.ref)&&f.ref!=d&&(g||(g=[]),f.ref&&g.push(f.ref,null,p),g.push(d,p.__c||h,p)),null!=h?(null==_&&(_=h),"function"==typeof p.type&&p.__k===f.__k?p.__d=u=T(p,u,t):u=j(t,p,f,y,h,u),"function"==typeof n.type&&(n.__d=u)):u&&f.__e==u&&u.parentNode!=t&&(u=S(f))}for(n.__e=_,l=b;l--;)null!=y[l]&&U(y[l],y[l]);if(g)for(l=0;l<g.length;l++)F(g[l],g[++l],g[++l])}function T(t,e,n){for(var r,o=t.__k,i=0;o&&i<o.length;i++)(r=o[i])&&(r.__=t,e="function"==typeof r.type?T(r,e,n):j(n,r,r,o,r.__e,e));return e}function j(t,e,n,r,o,i){var s,a,u;if(void 0!==e.__d)s=e.__d,e.__d=void 0;else if(null==n||o!=i||null==o.parentNode)t:if(null==i||i.parentNode!==t)t.appendChild(o),s=null;else{for(a=i,u=0;(a=a.nextSibling)&&u<r.length;u+=1)if(a==o)break t;t.insertBefore(o,i),s=i}return void 0!==s?s:o.nextSibling}function D(t,e,n){"-"===e[0]?t.setProperty(e,n):t[e]=null==n?"":"number"!=typeof n||g.test(e)?n:n+"px"}function L(t,e,n,r,o){var i;t:if("style"===e)if("string"==typeof n)t.style.cssText=n;else{if("string"==typeof r&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||D(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||D(t.style,e,n[e])}else if("o"===e[0]&&"n"===e[1])i=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=n,n?r||t.addEventListener(e,i?O:A,i):t.removeEventListener(e,i?O:A,i);else if("dangerouslySetInnerHTML"!==e){if(o)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==e&&"list"!==e&&"form"!==e&&"tabIndex"!==e&&"download"!==e&&e in t)try{t[e]=null==n?"":n;break t}catch(t){}"function"==typeof n||(null==n||!1===n&&-1==e.indexOf("-")?t.removeAttribute(e):t.setAttribute(e,n))}}function A(t){this.l[t.type+!1](l.event?l.event(t):t)}function O(t){this.l[t.type+!0](l.event?l.event(t):t)}function R(t,e,n,r,o,i,s,a,u){var c,d,f,p,h,_,m,v,g,b,w,k,S,N,C,E=e.type;if(void 0!==e.constructor)return null;null!=n.__h&&(u=n.__h,a=e.__e=n.__e,e.__h=null,i=[a]),(c=l.__b)&&c(e);try{t:if("function"==typeof E){if(v=e.props,g=(c=E.contextType)&&r[c.__c],b=c?g?g.props.value:c.__:r,n.__c?m=(d=e.__c=n.__c).__=d.__E:("prototype"in E&&E.prototype.render?e.__c=d=new E(v,b):(e.__c=d=new P(v,b),d.constructor=E,d.render=W),g&&g.sub(d),d.props=v,d.state||(d.state={}),d.context=b,d.__n=r,f=d.__d=!0,d.__h=[],d._sb=[]),null==d.__s&&(d.__s=d.state),null!=E.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=y({},d.__s)),y(d.__s,E.getDerivedStateFromProps(v,d.__s))),p=d.props,h=d.state,f)null==E.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==E.getDerivedStateFromProps&&v!==p&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(v,b),!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(v,d.__s,b)||e.__v===n.__v){for(d.props=v,d.state=d.__s,e.__v!==n.__v&&(d.__d=!1),d.__v=e,e.__e=n.__e,e.__k=n.__k,e.__k.forEach((function(t){t&&(t.__=e)})),w=0;w<d._sb.length;w++)d.__h.push(d._sb[w]);d._sb=[],d.__h.length&&s.push(d);break t}null!=d.componentWillUpdate&&d.componentWillUpdate(v,d.__s,b),null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(p,h,_)}))}if(d.context=b,d.props=v,d.__v=e,d.__P=t,k=l.__r,S=0,"prototype"in E&&E.prototype.render){for(d.state=d.__s,d.__d=!1,k&&k(e),c=d.render(d.props,d.state,d.context),N=0;N<d._sb.length;N++)d.__h.push(d._sb[N]);d._sb=[]}else do{d.__d=!1,k&&k(e),c=d.render(d.props,d.state,d.context),d.state=d.__s}while(d.__d&&++S<25);d.state=d.__s,null!=d.getChildContext&&(r=y(y({},r),d.getChildContext())),f||null==d.getSnapshotBeforeUpdate||(_=d.getSnapshotBeforeUpdate(p,h)),C=null!=c&&c.type===x&&null==c.key?c.props.children:c,I(t,Array.isArray(C)?C:[C],e,n,r,o,i,s,a,u),d.base=e.__e,e.__h=null,d.__h.length&&s.push(d),m&&(d.__E=d.__=null),d.__e=!1}else null==i&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=M(n.__e,e,n,r,o,i,s,u);(c=l.diffed)&&c(e)}catch(t){e.__v=null,(u||null!=i)&&(e.__e=a,e.__h=!!u,i[i.indexOf(a)]=null),l.__e(t,e,n)}}function H(t,e){l.__c&&l.__c(e,t),t.some((function(e){try{t=e.__h,e.__h=[],t.some((function(t){t.call(e)}))}catch(t){l.__e(t,e.__v)}}))}function M(t,e,n,r,o,i,s,a){var u,l,d,f=n.props,p=e.props,h=e.type,_=0;if("svg"===h&&(o=!0),null!=i)for(;_<i.length;_++)if((u=i[_])&&"setAttribute"in u==!!h&&(h?u.localName===h:3===u.nodeType)){t=u,i[_]=null;break}if(null==t){if(null===h)return document.createTextNode(p);t=o?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,p.is&&p),i=null,a=!1}if(null===h)f===p||a&&t.data===p||(t.data=p);else{if(i=i&&c.call(t.childNodes),l=(f=n.props||m).dangerouslySetInnerHTML,d=p.dangerouslySetInnerHTML,!a){if(null!=i)for(f={},_=0;_<t.attributes.length;_++)f[t.attributes[_].name]=t.attributes[_].value;(d||l)&&(d&&(l&&d.__html==l.__html||d.__html===t.innerHTML)||(t.innerHTML=d&&d.__html||""))}if(function(t,e,n,r,o){var i;for(i in n)"children"===i||"key"===i||i in e||L(t,i,null,n[i],r);for(i in e)o&&"function"!=typeof e[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===e[i]||L(t,i,e[i],n[i],r)}(t,p,f,o,a),d)e.__k=[];else if(_=e.props.children,I(t,Array.isArray(_)?_:[_],e,n,r,o&&"foreignObject"!==h,i,s,i?i[0]:n.__k&&S(n,0),a),null!=i)for(_=i.length;_--;)null!=i[_]&&b(i[_]);a||("value"in p&&void 0!==(_=p.value)&&(_!==t.value||"progress"===h&&!_||"option"===h&&_!==f.value)&&L(t,"value",_,f.value,!1),"checked"in p&&void 0!==(_=p.checked)&&_!==t.checked&&L(t,"checked",_,f.checked,!1))}return t}function F(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(t){l.__e(t,n)}}function U(t,e,n){var r,o;if(l.unmount&&l.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||F(r,null,e)),null!=(r=t.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(t){l.__e(t,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(o=0;o<r.length;o++)r[o]&&U(r[o],e,n||"function"!=typeof t.type);n||null==t.__e||b(t.__e),t.__=t.__e=t.__d=void 0}function W(t,e,n){return this.constructor(t,n)}function B(t,e,n){var r,o,i;l.__&&l.__(t,e),o=(r="function"==typeof n)?null:n&&n.__k||e.__k,i=[],R(e,t=(!r&&n||e).__k=w(x,null,[t]),o||m,m,void 0!==e.ownerSVGElement,!r&&n?[n]:o?null:e.firstChild?c.call(e.childNodes):null,i,!r&&n?n:o?o.__e:e.firstChild,r),H(i,t)}function $(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))}c=v.slice,l={__e:function(t,e,n,r){for(var o,i,s;e=e.__;)if((o=e.__c)&&!o.__)try{if((i=o.constructor)&&null!=i.getDerivedStateFromError&&(o.setState(i.getDerivedStateFromError(t)),s=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(t,r||{}),s=o.__d),s)return o.__E=o}catch(e){t=e}throw t}},d=0,f=function(t){return null!=t&&void 0===t.constructor},P.prototype.setState=function(t,e){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=y({},this.state),"function"==typeof t&&(t=t(y({},n),this.props)),t&&y(n,t),null!=t&&this.__v&&(e&&this._sb.push(e),C(this))},P.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),C(this))},P.prototype.render=x,p=[],E.__r=0,_=0;var q=function(){function t(t){this._id=void 0,this._id=t||$()}return e(t,[{key:"id",get:function(){return this._id}}]),t}();function z(t){return w(t.parentElement||"span",{dangerouslySetInnerHTML:{__html:t.content}})}function V(t,e){return w(z,{content:t,parentElement:e})}var X,G=function(t){function e(e){var n;return(n=t.call(this)||this).data=void 0,n.update(e),n}r(e,t);var n=e.prototype;return n.cast=function(t){return t instanceof HTMLElement?V(t.outerHTML):t},n.update=function(t){return this.data=this.cast(t),this},e}(q),K=function(t){function n(e){var n;return(n=t.call(this)||this)._cells=void 0,n.cells=e||[],n}r(n,t);var o=n.prototype;return o.cell=function(t){return this._cells[t]},o.toArray=function(){return this.cells.map((function(t){return t.data}))},n.fromCells=function(t){return new n(t.map((function(t){return new G(t.data)})))},e(n,[{key:"cells",get:function(){return this._cells},set:function(t){this._cells=t}},{key:"length",get:function(){return this.cells.length}}]),n}(q),Q=function(t){function n(e){var n;return(n=t.call(this)||this)._rows=void 0,n._length=void 0,n.rows=e instanceof Array?e:e instanceof K?[e]:[],n}return r(n,t),n.prototype.toArray=function(){return this.rows.map((function(t){return t.toArray()}))},n.fromRows=function(t){return new n(t.map((function(t){return K.fromCells(t.cells)})))},n.fromArray=function(t){return new n((t=function(t){return!t[0]||t[0]instanceof Array?t:[t]}(t)).map((function(t){return new K(t.map((function(t){return new G(t)})))})))},e(n,[{key:"rows",get:function(){return this._rows},set:function(t){this._rows=t}},{key:"length",get:function(){return this._length||this.rows.length},set:function(t){this._length=t}}]),n}(q),J=function(){function t(){this.callbacks=void 0}var e=t.prototype;return e.init=function(t){this.callbacks||(this.callbacks={}),t&&!this.callbacks[t]&&(this.callbacks[t]=[])},e.listeners=function(){return this.callbacks},e.on=function(t,e){return this.init(t),this.callbacks[t].push(e),this},e.off=function(t,e){var n=t;return this.init(),this.callbacks[n]&&0!==this.callbacks[n].length?(this.callbacks[n]=this.callbacks[n].filter((function(t){return t!=e})),this):this},e.emit=function(t){var e=arguments,n=t;return this.init(n),this.callbacks[n].length>0&&(this.callbacks[n].forEach((function(t){return t.apply(void 0,[].slice.call(e,1))})),!0)},t}();function Z(t,e){if(typeof t!=typeof e)return!1;if(null===t&&null===e)return!0;if("object"!=typeof t)return t===e;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!Z(t[n],e[n]))return!1;return!0}if(t.hasOwnProperty("constructor")&&e.hasOwnProperty("constructor")&&t.hasOwnProperty("props")&&e.hasOwnProperty("props")&&t.hasOwnProperty("key")&&e.hasOwnProperty("key")&&t.hasOwnProperty("ref")&&e.hasOwnProperty("ref")&&t.hasOwnProperty("type")&&e.hasOwnProperty("type"))return Z(t.props,e.props);var r=Object.keys(t),o=Object.keys(e);if(r.length!==o.length)return!1;for(var i=0,s=r;i<s.length;i++){var a=s[i];if(!e.hasOwnProperty(a)||!Z(t[a],e[a]))return!1}return!0}!function(t){t[t.Initiator=0]="Initiator",t[t.ServerFilter=1]="ServerFilter",t[t.ServerSort=2]="ServerSort",t[t.ServerLimit=3]="ServerLimit",t[t.Extractor=4]="Extractor",t[t.Transformer=5]="Transformer",t[t.Filter=6]="Filter",t[t.Sort=7]="Sort",t[t.Limit=8]="Limit"}(X||(X={}));var Y=function(t){function o(e){var n;return(n=t.call(this)||this).id=void 0,n._props=void 0,n._props={},n.id=$(),e&&n.setProps(e),n}r(o,t);var i=o.prototype;return i.process=function(){var t=[].slice.call(arguments);this.validateProps instanceof Function&&this.validateProps.apply(this,t),this.emit.apply(this,["beforeProcess"].concat(t));var e=this._process.apply(this,t);return this.emit.apply(this,["afterProcess"].concat(t)),e},i.setProps=function(t){var e=n({},this._props,t);return Z(e,this._props)||(this._props=e,this.emit("propsUpdated",this)),this},e(o,[{key:"props",get:function(){return this._props}}]),o}(J),tt=function(t){function n(){return t.apply(this,arguments)||this}return r(n,t),n.prototype._process=function(t){return this.props.keyword?(e=String(this.props.keyword).trim(),n=this.props.columns,r=this.props.ignoreHiddenColumns,o=t,i=this.props.selector,e=e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),new Q(o.rows.filter((function(t,o){return t.cells.some((function(t,s){if(!t)return!1;if(r&&n&&n[s]&&"object"==typeof n[s]&&n[s].hidden)return!1;var a="";if("function"==typeof i)a=i(t.data,o,s);else if("object"==typeof t.data){var u=t.data;u&&u.props&&u.props.content&&(a=u.props.content)}else a=String(t.data);return new RegExp(e,"gi").test(a)}))})))):t;var e,n,r,o,i},e(n,[{key:"type",get:function(){return X.Filter}}]),n}(Y);function et(){return"gridjs"+[].slice.call(arguments).reduce((function(t,e){return t+"-"+e}),"")}function nt(){return[].slice.call(arguments).map((function(t){return t?t.toString():""})).filter((function(t){return t})).reduce((function(t,e){return(t||"")+" "+e}),"").trim()}var rt,ot,it,st,at=function(t){function o(){return t.apply(this,arguments)||this}return r(o,t),o.prototype._process=function(t){if(!this.props.keyword)return t;var e={};return this.props.url&&(e.url=this.props.url(t.url,this.props.keyword)),this.props.body&&(e.body=this.props.body(t.body,this.props.keyword)),n({},t,e)},e(o,[{key:"type",get:function(){return X.ServerFilter}}]),o}(Y),ut=0,ct=[],lt=[],dt=l.__b,ft=l.__r,pt=l.diffed,ht=l.__c,_t=l.unmount;function mt(t,e){l.__h&&l.__h(ot,t,ut||e),ut=0;var n=ot.__H||(ot.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({__V:lt}),n.__[t]}function vt(t){return ut=1,function(t,e){var n=mt(rt++,2);if(n.t=t,!n.__c&&(n.__=[Ct(void 0,e),function(t){var e=n.__N?n.__N[0]:n.__[0],r=n.t(e,t);e!==r&&(n.__N=[r,n.__[1]],n.__c.setState({}))}],n.__c=ot,!ot.u)){ot.u=!0;var r=ot.shouldComponentUpdate;ot.shouldComponentUpdate=function(t,e,o){if(!n.__c.__H)return!0;var i=n.__c.__H.__.filter((function(t){return t.__c}));if(i.every((function(t){return!t.__N})))return!r||r.call(this,t,e,o);var s=!1;return i.forEach((function(t){if(t.__N){var e=t.__[0];t.__=t.__N,t.__N=void 0,e!==t.__[0]&&(s=!0)}})),!(!s&&n.__c.props===t)&&(!r||r.call(this,t,e,o))}}return n.__N||n.__}(Ct,t)}function gt(t,e){var n=mt(rt++,3);!l.__s&&Nt(n.__H,e)&&(n.__=t,n.i=e,ot.__H.__h.push(n))}function yt(t){return ut=5,bt((function(){return{current:t}}),[])}function bt(t,e){var n=mt(rt++,7);return Nt(n.__H,e)?(n.__V=t(),n.i=e,n.__h=t,n.__V):n.__}function wt(){for(var t;t=ct.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Pt),t.__H.__h.forEach(St),t.__H.__h=[]}catch(e){t.__H.__h=[],l.__e(e,t.__v)}}l.__b=function(t){ot=null,dt&&dt(t)},l.__r=function(t){ft&&ft(t),rt=0;var e=(ot=t.__c).__H;e&&(it===ot?(e.__h=[],ot.__h=[],e.__.forEach((function(t){t.__N&&(t.__=t.__N),t.__V=lt,t.__N=t.i=void 0}))):(e.__h.forEach(Pt),e.__h.forEach(St),e.__h=[])),it=ot},l.diffed=function(t){pt&&pt(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(1!==ct.push(e)&&st===l.requestAnimationFrame||((st=l.requestAnimationFrame)||xt)(wt)),e.__H.__.forEach((function(t){t.i&&(t.__H=t.i),t.__V!==lt&&(t.__=t.__V),t.i=void 0,t.__V=lt}))),it=ot=null},l.__c=function(t,e){e.some((function(t){try{t.__h.forEach(Pt),t.__h=t.__h.filter((function(t){return!t.__||St(t)}))}catch(n){e.some((function(t){t.__h&&(t.__h=[])})),e=[],l.__e(n,t.__v)}})),ht&&ht(t,e)},l.unmount=function(t){_t&&_t(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach((function(t){try{Pt(t)}catch(t){e=t}})),n.__H=void 0,e&&l.__e(e,n.__v))};var kt="function"==typeof requestAnimationFrame;function xt(t){var e,n=function(){clearTimeout(r),kt&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);kt&&(e=requestAnimationFrame(n))}function Pt(t){var e=ot,n=t.__c;"function"==typeof n&&(t.__c=void 0,n()),ot=e}function St(t){var e=ot;t.__c=t.__(),ot=e}function Nt(t,e){return!t||t.length!==e.length||e.some((function(e,n){return e!==t[n]}))}function Ct(t,e){return"function"==typeof e?e(t):e}function Et(){return function(t){var e=ot.context[t.__c],n=mt(rt++,9);return n.c=t,e?(null==n.__&&(n.__=!0,e.sub(ot)),e.props.value):t.__}(ce)}var It={search:{placeholder:"Type a keyword..."},sort:{sortAsc:"Sort column ascending",sortDesc:"Sort column descending"},pagination:{previous:"Previous",next:"Next",navigate:function(t,e){return"Page "+t+" of "+e},page:function(t){return"Page "+t},showing:"Showing",of:"of",to:"to",results:"results"},loading:"Loading...",noRecordsFound:"No matching records found",error:"An error happened while fetching the data"},Tt=function(){function t(t){this._language=void 0,this._defaultLanguage=void 0,this._language=t,this._defaultLanguage=It}var e=t.prototype;return e.getString=function(t,e){if(!e||!t)return null;var n=t.split("."),r=n[0];if(e[r]){var o=e[r];return"string"==typeof o?function(){return o}:"function"==typeof o?o:this.getString(n.slice(1).join("."),o)}return null},e.translate=function(t){var e;return(e=this.getString(t,this._language)||this.getString(t,this._defaultLanguage))?e.apply(void 0,[].slice.call(arguments,1)):t},t}();function jt(){var t=Et();return function(e){var n;return(n=t.translator).translate.apply(n,[e].concat([].slice.call(arguments,1)))}}var Dt=function(t){return function(e){return n({},e,{search:{keyword:t}})}};function Lt(){return Et().store}function At(t){var e=Lt(),n=vt(t(e.getState())),r=n[0],o=n[1];return gt((function(){return e.subscribe((function(){var n=t(e.getState());r!==n&&o(n)}))}),[]),r}function Ot(){var t,e=vt(void 0),n=e[0],r=e[1],o=Et(),i=o.search,s=jt(),a=Lt().dispatch,u=At((function(t){return t.search}));gt((function(){n&&n.setProps({keyword:null==u?void 0:u.keyword})}),[u,n]),gt((function(){r(i.server?new at({keyword:i.keyword,url:i.server.url,body:i.server.body}):new tt({keyword:i.keyword,columns:o.header&&o.header.columns,ignoreHiddenColumns:i.ignoreHiddenColumns||void 0===i.ignoreHiddenColumns,selector:i.selector})),i.keyword&&a(Dt(i.keyword))}),[i]),gt((function(){if(n)return o.pipeline.register(n),function(){return o.pipeline.unregister(n)}}),[o,n]);var c,l,d,f=function(t,e){return ut=8,bt((function(){return t}),e)}((c=function(t){t.target instanceof HTMLInputElement&&a(Dt(t.target.value))},l=n instanceof at?i.debounceTimeout||250:0,function(){var t=arguments;return new Promise((function(e){d&&clearTimeout(d),d=setTimeout((function(){return e(c.apply(void 0,[].slice.call(t)))}),l)}))}),[i,n]);return w("div",{className:et(nt("search",null==(t=o.className)?void 0:t.search))},w("input",{type:"search",placeholder:s("search.placeholder"),"aria-label":s("search.placeholder"),onInput:f,className:nt(et("input"),et("search","input")),defaultValue:(null==u?void 0:u.keyword)||""}))}var Rt=function(t){function n(){return t.apply(this,arguments)||this}r(n,t);var o=n.prototype;return o.validateProps=function(){if(isNaN(Number(this.props.limit))||isNaN(Number(this.props.page)))throw Error("Invalid parameters passed")},o._process=function(t){var e=this.props.page;return new Q(t.rows.slice(e*this.props.limit,(e+1)*this.props.limit))},e(n,[{key:"type",get:function(){return X.Limit}}]),n}(Y),Ht=function(t){function o(){return t.apply(this,arguments)||this}return r(o,t),o.prototype._process=function(t){var e={};return this.props.url&&(e.url=this.props.url(t.url,this.props.page,this.props.limit)),this.props.body&&(e.body=this.props.body(t.body,this.props.page,this.props.limit)),n({},t,e)},e(o,[{key:"type",get:function(){return X.ServerLimit}}]),o}(Y);function Mt(){var t=Et(),e=t.pagination,n=e.server,r=e.summary,o=void 0===r||r,i=e.nextButton,s=void 0===i||i,a=e.prevButton,u=void 0===a||a,c=e.buttonsCount,l=void 0===c?3:c,d=e.limit,f=void 0===d?10:d,p=e.page,h=void 0===p?0:p,_=e.resetPageOnUpdate,m=void 0===_||_,v=yt(null),g=vt(h),y=g[0],b=g[1],k=vt(0),P=k[0],S=k[1],N=jt();gt((function(){return n?(v.current=new Ht({limit:f,page:y,url:n.url,body:n.body}),t.pipeline.register(v.current)):(v.current=new Rt({limit:f,page:y}),t.pipeline.register(v.current)),v.current instanceof Ht?t.pipeline.on("afterProcess",(function(t){return S(t.length)})):v.current instanceof Rt&&v.current.on("beforeProcess",(function(t){return S(t.length)})),t.pipeline.on("updated",C),t.pipeline.on("error",(function(){S(0),b(0)})),function(){t.pipeline.unregister(v.current),t.pipeline.off("updated",C)}}),[]);var C=function(t){m&&t!==v.current&&(b(0),0!==v.current.props.page&&v.current.setProps({page:0}))},E=function(){return Math.ceil(P/f)},I=function(t){if(t>=E()||t<0||t===y)return null;b(t),v.current.setProps({page:t})};return w("div",{className:nt(et("pagination"),t.className.pagination)},w(x,null,o&&P>0&&w("div",{role:"status","aria-live":"polite",className:nt(et("summary"),t.className.paginationSummary),title:N("pagination.navigate",y+1,E())},N("pagination.showing")," ",w("b",null,N(""+(y*f+1)))," ",N("pagination.to")," ",w("b",null,N(""+Math.min((y+1)*f,P)))," ",N("pagination.of")," ",w("b",null,N(""+P))," ",N("pagination.results"))),w("div",{className:et("pages")},u&&w("button",{tabIndex:0,role:"button",disabled:0===y,onClick:function(){return I(y-1)},title:N("pagination.previous"),"aria-label":N("pagination.previous"),className:nt(t.className.paginationButton,t.className.paginationButtonPrev)},N("pagination.previous")),function(){if(l<=0)return null;var e=Math.min(E(),l),n=Math.min(y,Math.floor(e/2));return y+Math.floor(e/2)>=E()&&(n=e-(E()-y)),w(x,null,E()>e&&y-n>0&&w(x,null,w("button",{tabIndex:0,role:"button",onClick:function(){return I(0)},title:N("pagination.firstPage"),"aria-label":N("pagination.firstPage"),className:t.className.paginationButton},N("1")),w("button",{tabIndex:-1,className:nt(et("spread"),t.className.paginationButton)},"...")),Array.from(Array(e).keys()).map((function(t){return y+(t-n)})).map((function(e){return w("button",{tabIndex:0,role:"button",onClick:function(){return I(e)},className:nt(y===e?nt(et("currentPage"),t.className.paginationButtonCurrent):null,t.className.paginationButton),title:N("pagination.page",e+1),"aria-label":N("pagination.page",e+1)},N(""+(e+1)))})),E()>e&&E()>y+n+1&&w(x,null,w("button",{tabIndex:-1,className:nt(et("spread"),t.className.paginationButton)},"..."),w("button",{tabIndex:0,role:"button",onClick:function(){return I(E()-1)},title:N("pagination.page",E()),"aria-label":N("pagination.page",E()),className:t.className.paginationButton},N(""+E()))))}(),s&&w("button",{tabIndex:0,role:"button",disabled:E()===y+1||0===E(),onClick:function(){return I(y+1)},title:N("pagination.next"),"aria-label":N("pagination.next"),className:nt(t.className.paginationButton,t.className.paginationButtonNext)},N("pagination.next"))))}function Ft(t,e){return"string"==typeof t?t.indexOf("%")>-1?e/100*parseInt(t,10):parseInt(t,10):t}function Ut(t){return t?Math.floor(t)+"px":""}function Wt(t){var e=t.tableRef.cloneNode(!0);return e.style.position="absolute",e.style.width="100%",e.style.zIndex="-2147483640",e.style.visibility="hidden",w("div",{ref:function(t){t&&t.appendChild(e)}})}function Bt(t){if(!t)return"";var e=t.split(" ");return 1===e.length&&/([a-z][A-Z])+/g.test(t)?t:e.map((function(t,e){return 0==e?t.toLowerCase():t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()})).join("")}var $t,qt=new(function(){function t(){}var e=t.prototype;return e.format=function(t,e){return"[Grid.js] ["+e.toUpperCase()+"]: "+t},e.error=function(t,e){void 0===e&&(e=!1);var n=this.format(t,"error");if(e)throw Error(n);console.error(n)},e.warn=function(t){console.warn(this.format(t,"warn"))},e.info=function(t){console.info(this.format(t,"info"))},t}());!function(t){t[t.Header=0]="Header",t[t.Footer=1]="Footer",t[t.Cell=2]="Cell"}($t||($t={}));var zt=function(){function t(){this.plugins=void 0,this.plugins=[]}var e=t.prototype;return e.get=function(t){return this.plugins.find((function(e){return e.id===t}))},e.add=function(t){return t.id?this.get(t.id)?(qt.error("Duplicate plugin ID: "+t.id),this):(this.plugins.push(t),this):(qt.error("Plugin ID cannot be empty"),this)},e.remove=function(t){var e=this.get(t);return e&&this.plugins.splice(this.plugins.indexOf(e),1),this},e.list=function(t){return(null!=t||null!=t?this.plugins.filter((function(e){return e.position===t})):this.plugins).sort((function(t,e){return t.order&&e.order?t.order-e.order:1}))},t}();function Vt(t){var e=this,r=Et();if(t.pluginId){var o=r.plugin.get(t.pluginId);return o?w(x,{},w(o.component,n({plugin:o},t.props))):null}return void 0!==t.position?w(x,{},r.plugin.list(t.position).map((function(t){return w(t.component,n({plugin:t},e.props.props))}))):null}var Xt=function(t){function o(){var e;return(e=t.call(this)||this)._columns=void 0,e._columns=[],e}r(o,t);var i=o.prototype;return i.adjustWidth=function(t,e,r){var i=t.container,s=t.autoWidth;if(!i)return this;var u=i.clientWidth,c={};e.current&&s&&(B(w(Wt,{tableRef:e.current}),r.current),c=function(t){var e=t.querySelector("table");if(!e)return{};var r=e.className,o=e.style.cssText;e.className=r+" "+et("shadowTable"),e.style.tableLayout="auto",e.style.width="auto",e.style.padding="0",e.style.margin="0",e.style.border="none",e.style.outline="none";var i=Array.from(e.parentNode.querySelectorAll("thead th")).reduce((function(t,e){var r;return e.style.width=e.clientWidth+"px",n(((r={})[e.getAttribute("data-column-id")]={minWidth:e.clientWidth},r),t)}),{});return e.className=r,e.style.cssText=o,e.style.tableLayout="auto",Array.from(e.parentNode.querySelectorAll("thead th")).reduce((function(t,e){return t[e.getAttribute("data-column-id")].width=e.clientWidth,t}),i)}(r.current));for(var l,d=a(o.tabularFormat(this.columns).reduce((function(t,e){return t.concat(e)}),[]));!(l=d()).done;){var f=l.value;f.columns&&f.columns.length>0||(!f.width&&s?f.id in c&&(f.width=Ut(c[f.id].width),f.minWidth=Ut(c[f.id].minWidth)):f.width=Ut(Ft(f.width,u)))}return e.current&&s&&B(null,r.current),this},i.setSort=function(t,e){for(var r,o=a(e||this.columns||[]);!(r=o()).done;){var i=r.value;i.columns&&i.columns.length>0?i.sort=void 0:void 0===i.sort&&t?i.sort={}:i.sort?"object"==typeof i.sort&&(i.sort=n({},i.sort)):i.sort=void 0,i.columns&&this.setSort(t,i.columns)}},i.setResizable=function(t,e){for(var n,r=a(e||this.columns||[]);!(n=r()).done;){var o=n.value;void 0===o.resizable&&(o.resizable=t),o.columns&&this.setResizable(t,o.columns)}},i.setID=function(t){for(var e,n=a(t||this.columns||[]);!(e=n()).done;){var r=e.value;r.id||"string"!=typeof r.name||(r.id=Bt(r.name)),r.id||qt.error('Could not find a valid ID for one of the columns. Make sure a valid "id" is set for all columns.'),r.columns&&this.setID(r.columns)}},i.populatePlugins=function(t,e){for(var r,o=a(e);!(r=o()).done;){var i=r.value;void 0!==i.plugin&&t.add(n({id:i.id},i.plugin,{position:$t.Cell}))}},o.fromColumns=function(t){for(var e,n=new o,r=a(t);!(e=r()).done;){var i=e.value;if("string"==typeof i||f(i))n.columns.push({name:i});else if("object"==typeof i){var s=i;s.columns&&(s.columns=o.fromColumns(s.columns).columns),"object"==typeof s.plugin&&void 0===s.data&&(s.data=null),n.columns.push(i)}}return n},o.createFromConfig=function(t){var e=new o;return t.from?e.columns=o.fromHTMLTable(t.from).columns:t.columns?e.columns=o.fromColumns(t.columns).columns:!t.data||"object"!=typeof t.data[0]||t.data[0]instanceof Array||(e.columns=Object.keys(t.data[0]).map((function(t){return{name:t}}))),e.columns.length?(e.setID(),e.setSort(t.sort),e.setResizable(t.resizable),e.populatePlugins(t.plugin,e.columns),e):null},o.fromHTMLTable=function(t){for(var e,n=new o,r=a(t.querySelector("thead").querySelectorAll("th"));!(e=r()).done;){var i=e.value;n.columns.push({name:i.innerHTML,width:i.width})}return n},o.tabularFormat=function(t){var e=[],n=t||[],r=[];if(n&&n.length){e.push(n);for(var o,i=a(n);!(o=i()).done;){var s=o.value;s.columns&&s.columns.length&&(r=r.concat(s.columns))}r.length&&(e=e.concat(this.tabularFormat(r)))}return e},o.leafColumns=function(t){var e=[],n=t||[];if(n&&n.length)for(var r,o=a(n);!(r=o()).done;){var i=r.value;i.columns&&0!==i.columns.length||e.push(i),i.columns&&(e=e.concat(this.leafColumns(i.columns)))}return e},o.maximumDepth=function(t){return this.tabularFormat([t]).length-1},e(o,[{key:"columns",get:function(){return this._columns},set:function(t){this._columns=t}},{key:"visibleColumns",get:function(){return this._columns.filter((function(t){return!t.hidden}))}}]),o}(q),Gt=function(){},Kt=function(t){function e(e){var n;return(n=t.call(this)||this).data=void 0,n.set(e),n}r(e,t);var n=e.prototype;return n.get=function(){try{return Promise.resolve(this.data()).then((function(t){return{data:t,total:t.length}}))}catch(t){return Promise.reject(t)}},n.set=function(t){return t instanceof Array?this.data=function(){return t}:t instanceof Function&&(this.data=t),this},e}(Gt),Qt=function(t){function e(e){var n;return(n=t.call(this)||this).options=void 0,n.options=e,n}r(e,t);var o=e.prototype;return o.handler=function(t){return"function"==typeof this.options.handle?this.options.handle(t):t.ok?t.json():(qt.error("Could not fetch data: "+t.status+" - "+t.statusText,!0),null)},o.get=function(t){var e=n({},this.options,t);return"function"==typeof e.data?e.data(e):fetch(e.url,e).then(this.handler.bind(this)).then((function(t){return{data:e.then(t),total:"function"==typeof e.total?e.total(t):void 0}}))},e}(Gt),Jt=function(){function t(){}return t.createFromConfig=function(t){var e=null;return t.data&&(e=new Kt(t.data)),t.from&&(e=new Kt(this.tableElementToArray(t.from)),t.from.style.display="none"),t.server&&(e=new Qt(t.server)),e||qt.error("Could not determine the storage type",!0),e},t.tableElementToArray=function(t){for(var e,n,r=[],o=a(t.querySelector("tbody").querySelectorAll("tr"));!(e=o()).done;){for(var i,s=[],u=a(e.value.querySelectorAll("td"));!(i=u()).done;){var c=i.value;1===c.childNodes.length&&c.childNodes[0].nodeType===Node.TEXT_NODE?s.push((n=c.innerHTML,(new DOMParser).parseFromString(n,"text/html").documentElement.textContent)):s.push(V(c.innerHTML))}r.push(s)}return r},t}(),Zt="undefined"!=typeof Symbol?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function Yt(t,e,n){if(!t.s){if(n instanceof te){if(!n.s)return void(n.o=Yt.bind(null,t,e));1&e&&(e=n.s),n=n.v}if(n&&n.then)return void n.then(Yt.bind(null,t,e),Yt.bind(null,t,2));t.s=e,t.v=n;var r=t.o;r&&r(t)}}var te=function(){function t(){}return t.prototype.then=function(e,n){var r=new t,o=this.s;if(o){var i=1&o?e:n;if(i){try{Yt(r,1,i(this.v))}catch(t){Yt(r,2,t)}return r}return this}return this.o=function(t){try{var o=t.v;1&t.s?Yt(r,1,e?e(o):o):n?Yt(r,1,n(o)):Yt(r,2,o)}catch(t){Yt(r,2,t)}},r},t}();function ee(t){return t instanceof te&&1&t.s}var ne=function(t){function n(e){var n;return(n=t.call(this)||this)._steps=new Map,n.cache=new Map,n.lastProcessorIndexUpdated=-1,e&&e.forEach((function(t){return n.register(t)})),n}r(n,t);var o=n.prototype;return o.clearCache=function(){this.cache=new Map,this.lastProcessorIndexUpdated=-1},o.register=function(t,e){if(void 0===e&&(e=null),!t)throw Error("Processor is not defined");if(null===t.type)throw Error("Processor type is not defined");if(this.findProcessorIndexByID(t.id)>-1)throw Error("Processor ID "+t.id+" is already defined");return t.on("propsUpdated",this.processorPropsUpdated.bind(this)),this.addProcessorByPriority(t,e),this.afterRegistered(t),t},o.tryRegister=function(t,e){void 0===e&&(e=null);try{return this.register(t,e)}catch(t){}},o.unregister=function(t){if(t&&-1!==this.findProcessorIndexByID(t.id)){var e=this._steps.get(t.type);e&&e.length&&(this._steps.set(t.type,e.filter((function(e){return e!=t}))),this.emit("updated",t))}},o.addProcessorByPriority=function(t,e){var n=this._steps.get(t.type);if(!n){var r=[];this._steps.set(t.type,r),n=r}if(null===e||e<0)n.push(t);else if(n[e]){var o=n.slice(0,e-1),i=n.slice(e+1);this._steps.set(t.type,o.concat(t).concat(i))}else n[e]=t},o.getStepsByType=function(t){return this.steps.filter((function(e){return e.type===t}))},o.getSortedProcessorTypes=function(){return Object.keys(X).filter((function(t){return!isNaN(Number(t))})).map((function(t){return Number(t)}))},o.process=function(t){try{var e=function(t){return n.lastProcessorIndexUpdated=o.length,n.emit("afterProcess",i),i},n=this,r=n.lastProcessorIndexUpdated,o=n.steps,i=t,s=function(t,e){try{var s=function(t,e){if("function"==typeof t[Zt]){var n,r,o,i=t[Zt]();if(function t(s){try{for(;!(n=i.next()).done;)if((s=e(n.value))&&s.then){if(!ee(s))return void s.then(t,o||(o=Yt.bind(null,r=new te,2)));s=s.v}r?Yt(r,1,s):r=s}catch(t){Yt(r||(r=new te),2,t)}}(),i.return){var s=function(t){try{n.done||i.return()}catch(t){}return t};if(r&&r.then)return r.then(s,(function(t){throw s(t)}));s()}return r}if(!("length"in t))throw new TypeError("Object is not iterable");for(var a=[],u=0;u<t.length;u++)a.push(t[u]);return function(t,e){var n,r,o=-1;return function i(s){try{for(;++o<t.length;)if((s=e(o))&&s.then){if(!ee(s))return void s.then(i,r||(r=Yt.bind(null,n=new te,2)));s=s.v}n?Yt(n,1,s):n=s}catch(t){Yt(n||(n=new te),2,t)}}(),n}(a,(function(t){return e(a[t])}))}(o,(function(t){var e=n.findProcessorIndexByID(t.id),o=function(){if(e>=r)return Promise.resolve(t.process(i)).then((function(e){n.cache.set(t.id,i=e)}));i=n.cache.get(t.id)}();if(o&&o.then)return o.then((function(){}))}))}catch(t){return e(t)}return s&&s.then?s.then(void 0,e):s}(0,(function(t){throw qt.error(t),n.emit("error",i),t}));return Promise.resolve(s&&s.then?s.then(e):e())}catch(t){return Promise.reject(t)}},o.findProcessorIndexByID=function(t){return this.steps.findIndex((function(e){return e.id==t}))},o.setLastProcessorIndex=function(t){var e=this.findProcessorIndexByID(t.id);this.lastProcessorIndexUpdated>e&&(this.lastProcessorIndexUpdated=e)},o.processorPropsUpdated=function(t){this.setLastProcessorIndex(t),this.emit("propsUpdated"),this.emit("updated",t)},o.afterRegistered=function(t){this.setLastProcessorIndex(t),this.emit("afterRegister"),this.emit("updated",t)},e(n,[{key:"steps",get:function(){for(var t,e=[],n=a(this.getSortedProcessorTypes());!(t=n()).done;){var r=this._steps.get(t.value);r&&r.length&&(e=e.concat(r))}return e.filter((function(t){return t}))}}]),n}(J),re=function(t){function n(){return t.apply(this,arguments)||this}return r(n,t),n.prototype._process=function(t){try{return Promise.resolve(this.props.storage.get(t))}catch(t){return Promise.reject(t)}},e(n,[{key:"type",get:function(){return X.Extractor}}]),n}(Y),oe=function(t){function n(){return t.apply(this,arguments)||this}return r(n,t),n.prototype._process=function(t){var e=Q.fromArray(t.data);return e.length=t.total,e},e(n,[{key:"type",get:function(){return X.Transformer}}]),n}(Y),ie=function(t){function o(){return t.apply(this,arguments)||this}return r(o,t),o.prototype._process=function(){return Object.entries(this.props.serverStorageOptions).filter((function(t){return"function"!=typeof t[1]})).reduce((function(t,e){var r;return n({},t,((r={})[e[0]]=e[1],r))}),{})},e(o,[{key:"type",get:function(){return X.Initiator}}]),o}(Y),se=function(t){function n(){return t.apply(this,arguments)||this}r(n,t);var o=n.prototype;return o.castData=function(t){if(!t||!t.length)return[];if(!this.props.header||!this.props.header.columns)return t;var e=Xt.leafColumns(this.props.header.columns);return t[0]instanceof Array?t.map((function(t){var n=0;return e.map((function(e,r){return void 0!==e.data?(n++,"function"==typeof e.data?e.data(t):e.data):t[r-n]}))})):"object"!=typeof t[0]||t[0]instanceof Array?[]:t.map((function(t){return e.map((function(e,n){return void 0!==e.data?"function"==typeof e.data?e.data(t):e.data:e.id?t[e.id]:(qt.error("Could not find the correct cell for column at position "+n+".\n                          Make sure either 'id' or 'selector' is defined for all columns."),null)}))}))},o._process=function(t){return{data:this.castData(t.data),total:t.total}},e(n,[{key:"type",get:function(){return X.Transformer}}]),n}(Y),ae=function(){function t(){}return t.createFromConfig=function(t){var e=new ne;return t.storage instanceof Qt&&e.register(new ie({serverStorageOptions:t.server})),e.register(new re({storage:t.storage})),e.register(new se({header:t.header})),e.register(new oe),e},t}(),ue=function(t){var e=this;this.state=void 0,this.listeners=[],this.isDispatching=!1,this.getState=function(){return e.state},this.getListeners=function(){return e.listeners},this.dispatch=function(t){if("function"!=typeof t)throw new Error("Reducer is not a function");if(e.isDispatching)throw new Error("Reducers may not dispatch actions");e.isDispatching=!0;var n=e.state;try{e.state=t(e.state)}finally{e.isDispatching=!1}for(var r,o=a(e.listeners);!(r=o()).done;)(0,r.value)(e.state,n);return e.state},this.subscribe=function(t){if("function"!=typeof t)throw new Error("Listener is not a function");return e.listeners=[].concat(e.listeners,[t]),function(){return e.listeners=e.listeners.filter((function(e){return e!==t}))}},this.state=t},ce=function(t,e){var n={__c:e="__cC"+_++,__:null,Consumer:function(t,e){return t.children(e)},Provider:function(t){var n,r;return this.getChildContext||(n=[],(r={})[e]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(t){this.props.value!==t.value&&n.some(C)},this.sub=function(t){n.push(t);var e=t.componentWillUnmount;t.componentWillUnmount=function(){n.splice(n.indexOf(t),1),e&&e.call(t)}}),t.children}};return n.Provider.__=n.Consumer.contextType=n}(),le=function(){function t(){Object.assign(this,t.defaultConfig())}var e=t.prototype;return e.assign=function(t){return Object.assign(this,t)},e.update=function(e){return e?(this.assign(t.fromPartialConfig(n({},this,e))),this):this},t.defaultConfig=function(){return{store:new ue({status:u.Init,header:void 0,data:null}),plugin:new zt,tableRef:{current:null},width:"100%",height:"auto",processingThrottleMs:100,autoWidth:!0,style:{},className:{}}},t.fromPartialConfig=function(e){var n=(new t).assign(e);return"boolean"==typeof e.sort&&e.sort&&n.assign({sort:{multiColumn:!0}}),n.assign({header:Xt.createFromConfig(n)}),n.assign({storage:Jt.createFromConfig(n)}),n.assign({pipeline:ae.createFromConfig(n)}),n.assign({translator:new Tt(n.language)}),n.plugin=new zt,n.search&&n.plugin.add({id:"search",position:$t.Header,component:Ot}),n.pagination&&n.plugin.add({id:"pagination",position:$t.Footer,component:Mt}),n.plugins&&n.plugins.forEach((function(t){return n.plugin.add(t)})),n},t}();function de(t){var e,r=Et();return w("td",n({role:t.role,colSpan:t.colSpan,"data-column-id":t.column&&t.column.id,className:nt(et("td"),t.className,r.className.td),style:n({},t.style,r.style.td),onClick:function(e){t.messageCell||r.eventEmitter.emit("cellClick",e,t.cell,t.column,t.row)}},(e=t.column)?"function"==typeof e.attributes?e.attributes(t.cell.data,t.row,t.column):e.attributes:{}),t.column&&"function"==typeof t.column.formatter?t.column.formatter(t.cell.data,t.row,t.column):t.column&&t.column.plugin?w(Vt,{pluginId:t.column.id,props:{column:t.column,cell:t.cell,row:t.row}}):t.cell.data)}function fe(t){var e=Et(),n=At((function(t){return t.header}));return w("tr",{className:nt(et("tr"),e.className.tr),onClick:function(n){t.messageRow||e.eventEmitter.emit("rowClick",n,t.row)}},t.children?t.children:t.row.cells.map((function(e,r){var o=function(t){if(n){var e=Xt.leafColumns(n.columns);if(e)return e[t]}return null}(r);return o&&o.hidden?null:w(de,{key:e.id,cell:e,row:t.row,column:o})})))}function pe(t){return w(fe,{messageRow:!0},w(de,{role:"alert",colSpan:t.colSpan,messageCell:!0,cell:new G(t.message),className:nt(et("message"),t.className?t.className:null)}))}function he(){var t=Et(),e=At((function(t){return t.data})),n=At((function(t){return t.status})),r=At((function(t){return t.header})),o=jt(),i=function(){return r?r.visibleColumns.length:0};return w("tbody",{className:nt(et("tbody"),t.className.tbody)},e&&e.rows.map((function(t){return w(fe,{key:t.id,row:t})})),n===u.Loading&&(!e||0===e.length)&&w(pe,{message:o("loading"),colSpan:i(),className:nt(et("loading"),t.className.loading)}),n===u.Rendered&&e&&0===e.length&&w(pe,{message:o("noRecordsFound"),colSpan:i(),className:nt(et("notfound"),t.className.notfound)}),n===u.Error&&w(pe,{message:o("error"),colSpan:i(),className:nt(et("error"),t.className.error)}))}var _e=function(t){function n(){return t.apply(this,arguments)||this}r(n,t);var o=n.prototype;return o.validateProps=function(){for(var t,e=a(this.props.columns);!(t=e()).done;){var n=t.value;void 0===n.direction&&(n.direction=1),1!==n.direction&&-1!==n.direction&&qt.error("Invalid sort direction "+n.direction)}},o.compare=function(t,e){return t>e?1:t<e?-1:0},o.compareWrapper=function(t,e){for(var n,r=0,o=a(this.props.columns);!(n=o()).done;){var i=n.value;if(0!==r)break;var s=t.cells[i.index].data,u=e.cells[i.index].data;r|="function"==typeof i.compare?i.compare(s,u)*i.direction:this.compare(s,u)*i.direction}return r},o._process=function(t){var e=[].concat(t.rows);e.sort(this.compareWrapper.bind(this));var n=new Q(e);return n.length=t.length,n},e(n,[{key:"type",get:function(){return X.Sort}}]),n}(Y),me=function(t,e,r,o){return function(i){var s,a=null!=(s=i.sort)&&s.columns?i.sort.columns.map((function(t){return n({},t)})):[],u=a.length,c=a.find((function(e){return e.index===t})),l=!1,d=!1,f=!1,p=!1;if(void 0!==c?r?-1===c.direction?f=!0:p=!0:1===u?p=!0:u>1&&(d=!0,l=!0):0===u?l=!0:u>0&&!r?(l=!0,d=!0):u>0&&r&&(l=!0),d&&(a=[]),l)a.push({index:t,direction:e,compare:o});else if(p){var h=a.indexOf(c);a[h].direction=e}else if(f){var _=a.indexOf(c);a.splice(_,1)}return n({},i,{sort:{columns:a}})}},ve=function(t,e,r){return function(o){var i=(o.sort?[].concat(o.sort.columns):[]).find((function(e){return e.index===t}));return n({},o,i?me(t,1===i.direction?-1:1,e,r)(o):me(t,1,e,r)(o))}},ge=function(t){function o(){return t.apply(this,arguments)||this}return r(o,t),o.prototype._process=function(t){var e={};return this.props.url&&(e.url=this.props.url(t.url,this.props.columns)),this.props.body&&(e.body=this.props.body(t.body,this.props.columns)),n({},t,e)},e(o,[{key:"type",get:function(){return X.ServerSort}}]),o}(Y);function ye(t){var e=Et(),r=Lt().dispatch,o=jt(),i=vt(0),s=i[0],a=i[1],u=e.sort,c=At((function(t){return t.sort})),l="object"==typeof(null==u?void 0:u.server)?X.ServerSort:X.Sort,d=function(){var t=e.pipeline.getStepsByType(l);if(t.length)return t[0]};return gt((function(){var t=d()||(l===X.ServerSort?new ge(n({columns:c?c.columns:[]},u.server)):new _e({columns:c?c.columns:[]}));return e.pipeline.tryRegister(t),function(){return e.pipeline.unregister(t)}}),[e]),gt((function(){if(c){var e,n=c.columns.find((function(e){return e.index===t.index}));n?(0===s&&(n.direction=null!=(e=t.direction)?e:1),a(n.direction)):a(0)}}),[c]),gt((function(){var t=d();t&&c&&t.setProps({columns:c.columns})}),[c]),w("button",{tabIndex:-1,"aria-label":o("sort.sort"+(1===s?"Desc":"Asc")),title:o("sort.sort"+(1===s?"Desc":"Asc")),className:nt(et("sort"),et("sort",function(t){return 1===t?"asc":-1===t?"desc":"neutral"}(s)),e.className.sort),onClick:function(e){e.preventDefault(),e.stopPropagation(),r(ve(t.index,!0===e.shiftKey&&u.multiColumn,t.compare))}})}var be=function(t,e){var n;void 0===e&&(e=100);var r=Date.now(),o=function(){r=Date.now(),t.apply(void 0,[].slice.call(arguments))};return function(){var t=[].slice.call(arguments),i=Date.now()-r;i>=e?o.apply(void 0,t):(n&&clearTimeout(n),n=setTimeout((function(){o.apply(void 0,t),n=null}),e-i))}};function we(t){var e,n=function(t){return t instanceof MouseEvent?Math.floor(t.pageX):Math.floor(t.changedTouches[0].pageX)},r=function(r){r.stopPropagation();var s=parseInt(t.thRef.current.style.width,10)-n(r);e=be((function(t){return o(t,s)}),10),document.addEventListener("mouseup",i),document.addEventListener("touchend",i),document.addEventListener("mousemove",e),document.addEventListener("touchmove",e)},o=function(e,r){e.stopPropagation();var o=t.thRef.current;r+n(e)>=parseInt(o.style.minWidth,10)&&(o.style.width=r+n(e)+"px")},i=function t(n){n.stopPropagation(),document.removeEventListener("mouseup",t),document.removeEventListener("mousemove",e),document.removeEventListener("touchmove",e),document.removeEventListener("touchend",t)};return w("div",{className:nt(et("th"),et("resizable")),onMouseDown:r,onTouchStart:r,onClick:function(t){return t.stopPropagation()}})}function ke(t){var e=Et(),r=yt(null),o=vt({}),i=o[0],s=o[1],a=Lt().dispatch;gt((function(){if(e.fixedHeader&&r.current){var t=r.current.offsetTop;"number"==typeof t&&s({top:t})}}),[r]);var u,c=function(){return null!=t.column.sort},l=function(n){n.stopPropagation(),c()&&a(ve(t.index,!0===n.shiftKey&&e.sort.multiColumn,t.column.sort.compare))};return w("th",n({ref:r,"data-column-id":t.column&&t.column.id,className:nt(et("th"),c()?et("th","sort"):null,e.fixedHeader?et("th","fixed"):null,e.className.th),onClick:l,style:n({},e.style.th,{minWidth:t.column.minWidth,width:t.column.width},i,t.style),onKeyDown:function(t){c()&&13===t.which&&l(t)},rowSpan:t.rowSpan>1?t.rowSpan:void 0,colSpan:t.colSpan>1?t.colSpan:void 0},(u=t.column)?"function"==typeof u.attributes?u.attributes(null,null,t.column):u.attributes:{},c()?{tabIndex:0}:{}),w("div",{className:et("th","content")},void 0!==t.column.name?t.column.name:void 0!==t.column.plugin?w(Vt,{pluginId:t.column.plugin.id,props:{column:t.column}}):null),c()&&w(ye,n({index:t.index},t.column.sort)),t.column.resizable&&t.index<e.header.visibleColumns.length-1&&w(we,{column:t.column,thRef:r}))}function xe(){var t,e=Et(),n=At((function(t){return t.header}));return n?w("thead",{key:n.id,className:nt(et("thead"),e.className.thead)},(t=Xt.tabularFormat(n.columns)).map((function(e,r){return function(t,e,r){var o=Xt.leafColumns(n.columns);return w(fe,null,t.map((function(t){return t.hidden?null:function(t,e,n,r){var o=function(t,e,n){var r=Xt.maximumDepth(t),o=n-e;return{rowSpan:Math.floor(o-r-r/o),colSpan:t.columns&&t.columns.length||1}}(t,e,r);return w(ke,{column:t,index:n,colSpan:o.colSpan,rowSpan:o.rowSpan})}(t,e,o.indexOf(t),r)})))}(e,r,t.length)}))):null}var Pe=function(t){return function(e){return n({},e,{header:t})}};function Se(){var t=Et(),e=yt(null),r=Lt().dispatch;return gt((function(){e&&r(function(t){return function(e){return n({},e,{tableRef:t})}}(e))}),[e]),w("table",{ref:e,role:"grid",className:nt(et("table"),t.className.table),style:n({},t.style.table,{height:t.height})},w(xe,null),w(he,null))}function Ne(){var t=vt(!0),e=t[0],r=t[1],o=yt(null),i=Et();return gt((function(){0===o.current.children.length&&r(!1)}),[o]),e?w("div",{ref:o,className:nt(et("head"),i.className.header),style:n({},i.style.header)},w(Vt,{position:$t.Header})):null}function Ce(){var t=yt(null),e=vt(!0),r=e[0],o=e[1],i=Et();return gt((function(){0===t.current.children.length&&o(!1)}),[t]),r?w("div",{ref:t,className:nt(et("footer"),i.className.footer),style:n({},i.style.footer)},w(Vt,{position:$t.Footer})):null}function Ee(){var t=Et(),e=Lt().dispatch,r=At((function(t){return t.status})),o=At((function(t){return t.data})),i=At((function(t){return t.tableRef})),s={current:null},a=be((function(){try{e((function(t){return n({},t,{status:u.Loading})}));var r=function(r,o){try{var i=Promise.resolve(t.pipeline.process()).then((function(t){e(function(t){return function(e){return t?n({},e,{data:t,status:u.Loaded}):e}}(t)),setTimeout((function(){e((function(t){return t.status===u.Loaded?n({},t,{status:u.Rendered}):t}))}),0)}))}catch(t){return o(t)}return i&&i.then?i.then(void 0,o):i}(0,(function(t){qt.error(t),e((function(t){return n({},t,{data:null,status:u.Error})}))}));return Promise.resolve(r&&r.then?r.then((function(){})):void 0)}catch(t){return Promise.reject(t)}}),t.processingThrottleMs);return gt((function(){return e(Pe(t.header)),a(),t.pipeline.on("updated",a),function(){return t.pipeline.off("updated",a)}}),[]),gt((function(){t.header&&r===u.Loaded&&null!=o&&o.length&&e(Pe(t.header.adjustWidth(t,i,s)))}),[o,t,s]),w("div",{role:"complementary",className:nt("gridjs",et("container"),r===u.Loading?et("loading"):null,t.className.container),style:n({},t.style.container,{width:t.width})},r===u.Loading&&w("div",{className:et("loading-bar")}),w(Ne,null),w("div",{className:et("wrapper"),style:{height:t.height}},w(Se,null)),w(Ce,null),w("div",{ref:s,id:"gridjs-temp",className:et("temp")}))}var Ie=function(t){function e(e){var n;return(n=t.call(this)||this).config=void 0,n.plugin=void 0,n.config=(new le).assign({instance:i(n),eventEmitter:i(n)}).update(e),n.plugin=n.config.plugin,n}r(e,t);var n=e.prototype;return n.updateConfig=function(t){return this.config.update(t),this},n.createElement=function(){return w(ce.Provider,{value:this.config,children:w(Ee,{})})},n.forceRender=function(){return this.config&&this.config.container||qt.error("Container is empty. Make sure you call render() before forceRender()",!0),this.destroy(),B(this.createElement(),this.config.container),this},n.destroy=function(){this.config.pipeline.clearCache(),B(null,this.config.container)},n.render=function(t){return t||qt.error("Container element cannot be null",!0),t.childNodes.length>0?(qt.error("The container element "+t+" is not empty. Make sure the container is empty and call render() again"),this):(this.config.container=t,B(this.createElement(),t),this)},e}(J);jQuery(document).ready((async function(){const t=jQuery,{ajaxurl:e,nonce:n,text:r}=devnet_pph_pa_script,o={processing:!1,loading:!1,selectedToDeleteRows:[],loader(e){e&&this.processingElement instanceof jQuery?this.processingElement.append('<div id="pph-spinner" class="pph-spinner-backdrop"></div>'):t("#pph-spinner").remove()},setIsProcessing(t,e){this.processing=t,this.processingElement=e,this.loader(this.processing)},get isProcessing(){return this.processing}};async function i(r="",o={},i="get"){if(!r)return!1;let s;try{s=await t.ajax({type:i,url:e,data:{action:r,args:o,security:n}})}catch(t){console.error("ERROR: ",t)}return s}async function s(t,e){try{const n=await fetch(t,{headers:{"X-WP-Nonce":e}});return await n.json()}catch(t){console.error(t)}}const a=document.getElementById("pph-price-alerts-table");if(!a)return!1;const u=new Ie({pagination:{limit:20},fixedHeader:!0,columns:[{id:"id",name:"Entry ID",hidden:!0},{id:"product_id",name:"Product ID",hidden:!0},{id:"currency",name:"Currency",hidden:!0},{id:"product_type",name:"Type",hidden:!0},{id:"user_optin",name:"optin",hidden:!0},{id:"selectRow",name:V('<input type="checkbox" name="pph_toggle" />'),formatter:(t,e)=>V(`<input type="checkbox" class="gridjs-checkbox" ${["assigned","unconfirmed","blocked"].includes(e.cells[12].data)?"disabled":""} />`),width:"65px;"},{id:"title",name:"Product",attributes:(t,e,n)=>{if(t)return{"data-entry-id":e._cells[0].data,"data-product-id":e._cells[1].data,"data-target-price":e._cells[8].data,"data-currency":e._cells[2].data}},formatter:(t,e)=>V(`<a href='#' data-product-id="${e.cells[1].data}" target="_blank">${t}</a>`)},{id:"price",name:"Price",hidden:!0},{id:"target_price",name:"Target price",width:"120px",formatter:(t,e)=>V(`${t} ${e.cells[2].data}`)},{id:"user_name",name:"User Name",hidden:!0},{id:"user_email",name:"User Email",width:"250px"},{id:"user_marketing",name:"Marketing?",width:"120px",sort:!0,formatter:(t,e)=>V(`<span>${1==t?"✅":""}</span>`)},{id:"status",name:"Status",sort:!0,width:"120px",formatter:(t,e)=>V(`<span class="pph-status--${t}" data-status="${t}">${t}</span>`)},{id:"notification_date",name:"Notified",sort:!0,width:"120px",formatter:(t,e)=>{let n="";return t&&"0000-00-00 00:00:00"!==t&&(n=new Date(t).toLocaleDateString()),V(`${n}`)}},{id:"date_created",name:"Created",width:"120px",sort:!0,formatter:(t,e)=>{let n="";t&&"0000-00-00 00:00:00"!==t&&(n=new Date(t).toLocaleDateString());return V(""+(n+'<span class="pph-delete-entry" title="Delete"></span>'))}}],data:await s("/wp-json/product-price-history/v1/data",n)}).render(a);t(document).on("change",'[name="pph_toggle"]',(function(e){t(this).is(":checked")?t(".gridjs-tr").not(".gridjs-tr-selected").find(".gridjs-checkbox").click():t(".gridjs-tr-selected").find(".gridjs-checkbox").click()})),t(document).on("change",".gridjs-checkbox",(function(e){const n=t(this).closest("tr.gridjs-tr");t(this).is(":checked")?n.addClass("gridjs-tr-selected"):n.removeClass("gridjs-tr-selected")})),t(document).on("click",".gridjs-pages button",(function(e){const n=t('[name="pph_toggle"]');n.is(":checked")&&n.prop("checked",!1)})),t(document).on("click",'[data-column-id="title"] a',(async function(e){e.preventDefault();const n=t(this).data("product-id"),r=await i("pph_get_product_permalink",{productId:n});window.open(r,"_blank")}));const c=t("#price-alerts-filter"),l=c.find("input, select");c.on("change",(async function(e){if(o.processing)return;o.processing=!0,t(a).addClass("loading");const r=new FormData(this),i=new URLSearchParams;l.prop("disabled",!0),l.addClass("disabled");for(const[t,e]of r.entries())t.startsWith("pph_price_alert_")&&e&&i.append(t.replace("pph_price_alert_",""),e);const c=i.toString(),d=`/wp-json/product-price-history/v1/data${c?`?${c}`:""}`;u.updateConfig({data:await s(d,n)}),u.forceRender(),o.processing=!1,t(a).removeClass("loading"),l.prop("disabled",!1),l.removeClass("disabled")})),c.on("submit",(function(t){t.preventDefault()}));function d(e){return function(n){return t(n).find('[class^="pph-status--"]').data("status")===e}}t(document).on("click","#pph-pa-notify",(async function(e){if(o.processing)return;const n=t("#pph-price-alerts-table").find(".gridjs-tr-selected").get();if(!n.length)return;t(this).prop("disabled",!0),l.prop("disabled",!0),l.addClass("disabled"),t(a).addClass("loading");const s=n.some(d("notified"));n.some(d("assigned"));let u=!0;if(s&&(u=confirm(r.notifiedAlready)),u){const e=JSON.stringify((e=>e.length?e.reduce(((e,n)=>{const r=t(n).find('[data-column-id="title"]'),o=r.data("entry-id"),i=r.data("product-id"),s=r.data("target-price"),a=r.data("currency"),u=t(n).find('[data-column-id="user_email"]').text(),c={entryId:o,productId:i,targetPrice:s,currency:a,created:t(n).find('[data-column-id="date_created"]').text()};return e[u]?e[u].push(c):e[u]=[c],e}),{}):[])(n));let o=!0;await i("pph_user_notifier",{emailsAndProducts:e},"post").then((t=>{o=((t,e=!1)=>{let n=0,o=0;for(const e in t)t.hasOwnProperty(e)&&(t[e]?n++:o++);let i="";return n&&(i+=r.notifiedSuccess.replace("%s",n)),o&&(n&&(i+="\n"),i+=r.notifiedFailed.replace("%s",o)),alert(i),e&&n&&window.location.reload(),n})(t,!0)}));if(o)return!1}l.prop("disabled",!1),l.removeClass("disabled"),t(this).prop("disabled",!1),t(a).removeClass("loading"),o.processing=!1})),t(document).on("click",".pph-delete-entry",(function(e){const n=t(this).closest("tr");n.toggleClass("pph-delete-row");const r=n.find('[data-column-id="title"]').data("entry-id");if(n.hasClass("pph-delete-row"))o.selectedToDeleteRows.push(r);else{const t=o.selectedToDeleteRows.indexOf(r);-1!==t&&o.selectedToDeleteRows.splice(t,1)}const i=o.selectedToDeleteRows,s=t("#pph-pa-delete-entries");i.length>0?s.attr("disabled",!1):s.attr("disabled",!0)})),t(document).on("click","#pph-pa-delete-entries",(async function(e){if(e.preventDefault(),o.isProcessing)return;const n=o.selectedToDeleteRows;if(!confirm(r.deleteConfirm))return;o.setIsProcessing(!0,t(a));const s=await i("pph_pa_delete_entries",{ids:n},"post");o.setIsProcessing(!1,t(a)),s&&c.trigger("change")}))}))})();